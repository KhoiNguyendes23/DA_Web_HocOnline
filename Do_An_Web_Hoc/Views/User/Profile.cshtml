@{
    Layout = "~/Views/Shared/_LayoutUsers.cshtml";
    ViewData["Title"] = "Hồ sơ người dùng";

    var fullName = ViewData["FullName"]?.ToString() ?? "Người dùng";
    var email = ViewData["Email"]?.ToString() ?? "";
    var phone = ViewData["PhoneNumber"]?.ToString() ?? "";
    var birthday = ViewData["Birthday"]?.ToString() ?? "";
    var address = ViewData["Address"]?.ToString() ?? "";
    var imageValue = ViewData["ImagePath"]?.ToString();
    var imagePath = Url.Content(string.IsNullOrEmpty(imageValue)
        ? "~/images/Avatar_images/default-avatar.png"
        : imageValue.StartsWith("/") ? "~" + imageValue : "~/images/Avatar_images/" + imageValue);
}

<div class="container mt-5">
    <div class="card p-4 shadow-sm">
    <h2 class="text-primary text-center mb-4"><i class="fas fa-user"></i> Thông tin cá nhân</h2>

    <div class="text-center">
       <img src="@imagePath"
         onerror="this.src='@Url.Content("~/images/Avatar_images/default-avatar.png")';"
         alt="Avatar"
         class="rounded-circle img-thumbnail mb-3"
         style="width: 150px; height: 150px; object-fit: cover;" />
    </div>

    <div class="table-responsive d-flex justify-content-center">
        <table class="table table-bordered table-striped w-50">
            <tbody>
                <tr>
                    <th>Họ và tên</th>
                    <td>@fullName</td>
                </tr>
                <tr>
                    <th>Email</th>
                    <td>@email</td>
                </tr>
                <tr>
                    <th>Số điện thoại</th>
                    <td>@phone</td>
                </tr>
                <tr>
                    <th>Ngày sinh</th>
                    <td>@birthday</td>
                </tr>
                <tr>
                    <th>Địa chỉ</th>
                    <td>@address</td>
                </tr>
                <tr>
                    <th>Vai trò</th>
                    <td>Học viên</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="text-center mt-4">
        <a asp-action="EditProfile" asp-controller="User" class="btn btn-primary me-2">
            <i class="fas fa-edit"></i> Chỉnh sửa thông tin
        </a>
        <a asp-action="SecuritySettings" asp-controller="User" class="btn btn-outline-secondary">
            <i class="fas fa-lock"></i> Cài đặt bảo mật
        </a>
    </div>
    </div>
</div>
