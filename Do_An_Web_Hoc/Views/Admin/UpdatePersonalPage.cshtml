@model Do_An_Web_Hoc.Models.UserAccount
@{
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    ViewData["Title"] = "Cập nhật thông tin cá nhân";
}

<div class="container mt-5">
    <h2 class="text-primary text-center mb-4">Chỉnh Sửa Thông Tin Cá Nhân</h2>

    @if (!string.IsNullOrEmpty(Model.Image) && Model.Image != "/images/default-avatar.png")
    {
        <div class="text-center mb-4">
            <img src="@Url.Content(Model.Image)" alt="Ảnh đại diện" class="img-fluid rounded-circle" style="max-width: 150px;" />
        </div>
    }

    <form asp-action="UpdatePersonalPage" method="post" enctype="multipart/form-data">
        <div class="form-group mb-3">
            <label><i class="fas fa-user"></i> Họ và tên</label>
            <input type="text" name="FullName" value="@Model.FullName" class="form-control" required />
        </div>

        <div class="form-group mb-3">
            <label><i class="fas fa-envelope"></i> Email</label>
            <input type="email" name="Email" value="@Model.Email" class="form-control" readonly />
        </div>

        <div class="form-group mb-3">
            <label><i class="fas fa-phone"></i> Số điện thoại</label>
            <input type="tel" name="PhoneNumber" value="@Model.PhoneNumber" class="form-control" required />
        </div>

        <div class="form-group mb-3">
            <label><i class="fas fa-calendar"></i> Ngày sinh</label>
            <input type="date" name="Birthday" value="@Model.Birthday?.ToString("yyyy-MM-dd")" class="form-control" />
        </div>

        <div class="form-group mb-3">
            <label><i class="fas fa-map-marker-alt"></i> Địa chỉ</label>
            <input type="text" name="Address" value="@Model.Address" class="form-control" />
        </div>

        <div class="form-group mb-3">
            <label><i class="fas fa-user-shield"></i> Vai trò</label>
            <input type="text" class="form-control" value="@(Model.RoleID == 1 ? "Admin" : Model.RoleID == 2 ? "Giáo viên" : "Học viên")" disabled />
        </div>

        <div class="form-group mb-3">
            <label><i class="fas fa-image"></i> Sửa ảnh đại diện</label>
            <input type="file" name="Image" class="form-control" accept="image/*" />
        </div>

        <div class="text-center mt-4">
            <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Lưu Thay Đổi</button>
            <a href="@Url.Action("PersonalPage", "Admin")" class="btn btn-secondary ms-2"><i class="fas fa-arrow-left"></i> Quay lại</a>
        </div>
    </form>
</div>
